// Room Automation System - Fan and Lamp Control
// Using Temperature Sensor (DHT11) and Light Sensor (LDR)

#include <DHT.h>
#define DHTPIN A0        // Temperature sensor connected to A0
#define DHTTYPE DHT11
DHT dht(DHTPIN, DHTTYPE);

#define LDRPIN A1        // LDR connected to A1
#define FANPIN 3         // Fan connected to Digital Pin 3 (Relay/Motor)
#define LAMPPIN 4        // Lamp connected to Digital Pin 4 (Relay/LED)

float temperature = 0.0;
int lightValue = 0;

void setup() {
  Serial.begin(9600);
  dht.begin();

  pinMode(FANPIN, OUTPUT);
  pinMode(LAMPPIN, OUTPUT);

  digitalWrite(FANPIN, LOW);
  digitalWrite(LAMPPIN, LOW);

  Serial.println("Room Automation System Started...");
}

void loop() {
  // Read temperature
  temperature = dht.readTemperature();

  // Read light intensity from LDR
  lightValue = analogRead(LDRPIN);

  Serial.print("Temperature: ");
  Serial.print(temperature);
  Serial.print(" C, Light: ");
  Serial.println(lightValue);

  // Fan control: ON if Temp > 30Â°C
  if (temperature > 30) {
    digitalWrite(FANPIN, HIGH);
    Serial.println("Fan: ON");
  } else {
    digitalWrite(FANPIN, LOW);
    Serial.println("Fan: OFF");
  }

  // Lamp control: ON if light intensity < 500 (dark room)
  if (lightValue < 500) {
    digitalWrite(LAMPPIN, HIGH);
    Serial.println("Lamp: ON");
  } else {
    digitalWrite(LAMPPIN, LOW);
    Serial.println("Lamp: OFF");
  }

  delay(2000); // Delay for stability
}
